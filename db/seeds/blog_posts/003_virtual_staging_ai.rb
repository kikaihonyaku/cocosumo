# 記事3: バーチャルステージング
blog_post_3 = BlogPost.find_or_create_by!(public_id: 'virtual-staging-ai-2025') do |post|
  post.title = "AIで空室を魅力的に！バーチャルステージング機能を強化"
  post.summary = "Google Imagen AIを活用し、空室写真に家具を配置するバーチャルステージング機能を大幅強化しました。"
  post.content = <<~'MARKDOWN'
## 空室写真の課題

不動産の内見で、空室の写真を見せるとよく言われます。

> 「何もないと、広さのイメージが湧かない」

家具がないと空間の使い方がイメージしにくく、物件の魅力が伝わりにくいのです。かといって、実際の家具を入れるのはコストも時間もかかります。

そこで活躍するのが**バーチャルステージング**です。AIで写真に家具を配置し、「家具あり」のイメージを作成できます。

## 新機能: AI画像生成

### 5つのスタイルプリセット

お部屋の雰囲気に合わせて、5つのスタイルから選べます。

| スタイル | 特徴 |
|----------|------|
| モダン | シンプルでスタイリッシュな現代的デザイン |
| トラディショナル | 落ち着いた伝統的なインテリア |
| ナチュラル | 木目や自然素材を活かした温かみのあるデザイン |
| 空室クリーン | 生活感を消してクリーンな印象に |
| カスタム | 自由なプロンプトで指示 |

### 使い方

1. Before画像（空室写真）をアップロード
2. スタイルを選択
3. 「AI生成」ボタンをクリック
4. 数秒でAfter画像が生成される

```ruby
# AI生成のバックエンド処理
def generate_staging(before_image, style)
  prompt = build_prompt(style)

  client = Google::Cloud::AIPlatform::V1::PredictionService::Client.new
  response = client.predict(
    endpoint: imagen_endpoint,
    instances: [{ prompt: prompt, image: before_image }]
  )

  response.predictions.first
end
```

### カスタムプロンプト

「カスタム」スタイルを選ぶと、自由にプロンプトを指定できます。

例:
- 「北欧風のシンプルなリビングセット」
- 「書斎として使える机と本棚」
- 「ファミリー向けの明るいダイニングセット」

## Before/After比較機能

生成したAfter画像は、Before画像と**スライダーで比較**できます。

```jsx
<CompareSlider
  beforeImage={beforeUrl}
  afterImage={afterUrl}
  sliderPosition={50}
/>
```

スライダーを左右にドラッグすると、Before/Afterの境界が移動。直感的に変化を確認できます。

## 複数バリエーション対応

1つの部屋に対して、複数のスタイリングバリエーションを作成できます。

- モダンスタイル版
- ナチュラルスタイル版
- ファミリー向け版

お客様の好みに合わせて、最適なバリエーションを提案できます。

## アノテーション機能

画像上にマーカーと説明を追加できます。

- 「このソファはイメージです」
- 「この位置にエアコンがあります」
- 「収納スペース」

```javascript
const annotations = [
  {
    x: 0.3,  // 画像幅に対する割合
    y: 0.5,  // 画像高さに対する割合
    label: "リビングセット",
    description: "イメージです。実際の家具は含まれません。"
  }
];
```

## 埋め込み・シェア

作成したバーチャルステージングは:

- **物件公開ページに埋め込み**
- **iframeコードで外部サイトに埋め込み**
- **SNSでシェア**
- **QRコード生成**

が可能です。

## 注意点

バーチャルステージングを使用する際は、以下の点にご注意ください。

1. **イメージであることを明記**: 実際の家具とは異なることを明示
2. **過度な加工は避ける**: 部屋の広さや形状を変えるような加工はNG
3. **物件の瑕疵を隠さない**: 壁のシミなど、重要な情報は隠さない

## まとめ

バーチャルステージングは、**空室物件の魅力を最大限に引き出すツール**です。AIの力で、コストをかけずに「家具あり」のイメージを提供できます。

ぜひ物件紹介にご活用ください。
  MARKDOWN
  post.status = :published
  post.published_at = Time.zone.parse('2025-12-29 11:00:00')
  post.commit_hash = '7b9e9cb'
end

puts "✓ 記事作成: #{blog_post_3.title}"
